# ============================================
# CONFIGURAÇÃO DA APLICAÇÃO SPRING BOOT
# Arquivo: application.properties
# Projeto: SentimentAPI
# ============================================

# ------------------------------
# CONFIGURAÇÕES BÁSICAS DA APLICAÇÃO
# ------------------------------

# Nome da aplicação (aparece nos logs e métricas)
spring.application.name=sentiment-api

# Porta onde a aplicação vai rodar
server.port=8080

# ------------------------------
# CONFIGURAÇÕES DE LOG
# ------------------------------

# Nível de log para Spring Web
logging.level.org.springframework.web=INFO

# Log da aplicação
logging.level.com.hackathon=INFO

# ------------------------------
# CONFIGURAÇÕES DO BANCO DE DADOS
# ------------------------------

# URL de conexão com o PostgreSQL
# Banco: sentimentdb | Host: localhost | Porta: 5432
spring.datasource.url=jdbc:postgresql://localhost:5432/sentimentdb

# Driver explícito do PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# Credenciais do banco de dados
spring.datasource.username=postgres
spring.datasource.password=postgres

# Pool de conexões (HikariCP)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000

# ------------------------------
# CONFIGURAÇÕES JPA / HIBERNATE
# ------------------------------

# Atualiza o schema sem apagar dados
spring.jpa.hibernate.ddl-auto=update

# Mostrar SQL formatado no console (DEV)
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.show_sql=true

# Timezone padrão para evitar problemas com datas
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# ------------------------------
# CONFIGURAÇÕES DE SERVIÇOS EXTERNOS
# ------------------------------

# URL do microsserviço de Machine Learning
# Endpoint padrão: /predict
ml.service.url=http://localhost:8000/predict

# ============================================
# NOTAS IMPORTANTES PARA A EQUIPE
# ============================================

# 1. BANCO DE DADOS:
#    - PostgreSQL deve estar rodando
#    - Criar o banco manualmente:
#      CREATE DATABASE sentimentdb;

# 2. MICROSSERVIÇO DE ML:
#    - Deve estar rodando na porta 8000
#    - Endpoint esperado: POST /predict
#    - Payload JSON:
#      { "text": "texto para análise" }

# 3. SEGURANÇA:
#    - Nunca commitar senhas reais
#    - Em produção usar variáveis de ambiente

# ============================================
# PERFIL DE DESENVOLVIMENTO
# ============================================

# Para ativar:
# java -jar app.jar --spring.profiles.active=dev

logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Desabilitar cache em DEV
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false

# ============================================
# PRODUÇÃO (EXEMPLO)
# ============================================

# spring.datasource.password=${DB_PASSWORD}
# ml.service.url=${ML_SERVICE_URL}
